<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NovaBook📕</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <!-- Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700|Raleway:400,300,500,700,600'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css"
          type="text/css">
    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <style>
        .table-striped tbody tr td,
        .table-striped tbody tr th {
            border-right: 1px solid #ddd;
            vertical-align: middle;
            text-align: center;
        }

        .table-striped tbody tr td:last-child,
        .table-striped tbody tr th:last-child {
            border-right: none;
        }

        .table-striped tbody tr td .btn-group-vertical {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .table-striped tbody tr td img {
            display: block;
            margin: 0 auto;
        }

        .pull-left {
            margin-top: 10px;
            float: left;
        }

        .table-striped tbody tr td .star-rating,
        .table-striped tbody tr td .packaging-status {
            font-size: 14px; /* 별점과 포장 가능 여부 폰트 사이즈 조정 */
            line-height: 1.2;
        }

        .book-info {
            display: flex;
            flex-direction: column;
        }

        .book-title {
            font-size: 1.8rem; /* 제목의 기본 폰트 크기 */
            font-weight: bold;
        }

        .book-author-publisher {
            font-size: 0.875rem; /* 저자와 출판사의 기본 폰트 크기 */
            color: #555; /* 색상 변경 (선택사항) */
        }

        .book-author, .book-publisher {
            font-size: 1rem; /* 저자와 출판사의 폰트 크기를 더 줄이기 */
        }

        .price-info {
            display: flex;
            flex-direction: column;
        }

        .original-price {
            font-size: 0.875rem;
            color: #999;
            text-decoration: line-through;
        }

        .discounted-price {
            font-size: 1.25rem;
            color: #d9534f; /* 빨간색으로 강조 */
            font-weight: bold;
        }

        .category-tag {
            font-size: 1rem; /* 카테고리/태그의 기본 폰트 크기 */
            color: #555; /* 색상 변경 (선택사항) */
        }
    </style>
</head>

<body>
<div th:replace="~{layout/store/nav::nav}"></div>

<div class="layout">
    <div class="container-fluid">
        <div class="row">
            <div th:replace="~{layout/store/book_search_sidebar::sidebar}" class="col-md-3 col-sm-4"></div>
            <!-- 콘텐츠 섹션 -->
            <div class="col-md-9 col-sm-8">
                <!-- 정렬 및 페이지당 항목 수 블록 -->
                <div class="row">
                    <div class="col-md-12">
                        <div class="sort-options well">
                            <div class="pull-left">
                                <label>정렬 기준:</label>
                                <a href="?sort=popularity">인기도</a> |
                                <a href="?sort=lowest_price">최저가</a> |
                                <a href="?sort=highest_price">최고가</a> |
                                <a href="?sort=rating">평점</a> |
                                <a href="?sort=reviews">리뷰 순</a>
                            </div>
                            <div class="pull-right">
                                <label for="itemsPerPage" class="control-label">페이지당 항목 수:</label>
                                <select id="itemsPerPage" class="form-control"
                                        style="display:inline-block; width:auto;">
                                    <option value="10">10개</option>
                                    <option value="20">20개</option>
                                    <option value="50">50개</option>
                                </select>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <!-- 책 검색 결과 섹션 -->
                <div class="row">
                    <div class="col-md-12">
                        <form id="searchResultsForm">
                            <table class="table table-striped">
                                <thead>
                                <tr>
                                    <th>책 표지</th>
                                    <th>책 정보</th>
                                    <th>카테고리 / 태그</th>
                                    <th>별점</th>
                                    <th>가격</th>
                                    <th></th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="book : ${bookSearches.data}">
                                    <td><img th:src="@{${book.image}}" alt="책 사진" style="width:100px;"></td>
                                    <td>
                                        <div class="book-info">
                                            <div class="book-title" th:text="${book.title}">책 제목</div>
                                            <div class="book-author-publisher">
                                                <span class="book-author" th:text="${book.author}">저자</span><br>
                                                <span class="book-publisher" th:text="${book.publisher}">출판사</span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="category-tag" th:text="${book.categories + ' / ' + book.tags}">카테고리 / 태그</div>
                                    </td>
                                    <td class="star-rating">
                                        <span th:text="${book.score}">별점</span>
                                        <span class="fa fa-star" style="color:#ffd11a;"></span>
                                    </td>
                                    <td>
                                        <div class="price-info">
                                            <span class="original-price" th:text="${#numbers.formatDecimal(book.price, 0, 'COMMA')} + ' 원'">판매 가격</span>
                                            <span class="discounted-price" th:text="${#numbers.formatDecimal(book.discountPrice, 0, 'COMMA')} + ' 원'">할인 가격</span>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="btn-group-vertical">
                                            <a href="#" class="btn btn-primary">장바구니에 넣기</a>
                                            <a href="#" class="btn btn-success">바로 구매</a>
                                            <a href="#" class="btn btn-info">상품 보기</a>
                                        </div>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<div th:replace="~{layout/store/footer::footer}"></div>
</body>

</html>
