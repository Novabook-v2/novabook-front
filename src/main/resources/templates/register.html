<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>NovaBook📕</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <!-- Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,700|Raleway:400,300,500,700,600'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css"
          type="text/css">
    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>

<body>
<div th:replace="~{layout/nav::nav}"></div>

<div class="register-container">

    <form method="post" action="">
        <div class="container">
            <div class="insert">

                <table>
                    <caption><h2>회원가입 양식</h2></caption>
                    <tr>
                        <td class="col1">이름</td>
                        <td class="col2"><input type="text" name="name" maxlength="5"></td>
                    </tr>
                    <tr>
                        <td class="col1">아이디</td>
                        <td class="col2">
                            <input type="text" name="id" maxlength="10">
                            <input class='but1' type="button" value="중복확인" onclick="">
                        </td>
                    </tr>
                    <tr>
                        <td class="col1">비밀번호</td>
                        <td class="col2">
                            <input type="password" name="pwd" maxlength="16">
                            <p>※비밀번호는 <span class="num">문자, 숫자, 특수문자(~!@#$%^&*)의 조합
            10 ~ 16자리</span>로 입력이 가능합니다.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="col1">비밀번호 확인</td>
                        <td class="col2"><input type="password" name="pwdCheck" maxlength="16"></td>
                    </tr>
                    <tr>
                        <td class="col1">이메일</td>
                        <td class="col2">
                            <input type="text" name="mailid">
                            <span class="a">@</span>
                            <input type="text" name="email">
                            <select name="mailslc">
                                <option value="self" selected>직접입력</option>
                                <option value="naver">naver.com</option>
                                <option value="gm">gmail.com</option>
                                <option value="da">daum.com</option>
                                <option value="yah">yahoo.com</option>
                            </select>
                            <input class='but2' type="button" value="이메일 중복확인" onclick="">
                        </td>
                    </tr>
                    <tr>
                        <td class="col1">생년월일</td>
                        <td class="col2">
                            <select id="birth_year" name="birth_year" onchange="updateDays()">
                                <option value="select" selected>선택</option>
                                <!-- 1900년부터 2025년까지의 옵션 추가 -->
                                <option th:each="year : ${#numbers.sequence(1900, 2027)}" th:value="${year}" th:text="${year}"></option>
                            </select>
                            <span class="label">년</span>

                            <select id="birth_month" name="birth_month" onchange="updateDays()">
                                <option value="select" selected>선택</option>
                                <!-- 1월부터 12월까지의 옵션 추가 -->
                                <option th:each="month : ${#numbers.sequence(1, 12)}" th:value="${month}" th:text="${month}"></option>
                            </select>
                            <span class="label">월</span>

                            <select id="birth_day" name="birth_day">
                                <option value="select" selected>선택</option>
                            </select>
                            <span class="label">일</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="col1">주소</td>
                        <td class="col2">
                            <input type="text" id="address_line1" name="address_line1" placeholder="주소를 입력하세요" required>
                        </td>
                    </tr>
                </table>

            </div>

            <div class="create">

                <input class="but3" type="button" value="가입취소" onclick="">
                <input class="but4" type="button" value="회원가입" onclick="formCheck(this.form)">

            </div>
        </div>
    </form>
</div>

<div th:replace="~{layout/footer::footer}"></div>
<script th:inline="javascript">
    /*<![CDATA[*/
    function updateDays() {
        var year = parseInt($('#birth_year').val());
        var month = parseInt($('#birth_month').val());
        var daySelect = $('#birth_day');

        daySelect.empty().append('<option value="select" selected>선택</option>');
        var daysInMonth = new Date(year, month, 0).getDate();

        var today = new Date();
        var currentYear = today.getFullYear();
        var currentMonth = today.getMonth() + 1; // getMonth()는 0부터 시작하므로 +1 해줌
        var currentDay = today.getDate();

        // 선택된 연도와 월이 오늘보다 작다면 아무 작업도 하지 않음
        if (year < currentYear || (year === currentYear && month < currentMonth)) {
            return;
        }

        for (var day = 1; day <= daysInMonth; day++) {
            // 오늘 이전의 날짜만 선택 가능하도록 설정
            if (year < currentYear || (year === currentYear && month < currentMonth) || (year === currentYear && month === currentMonth && day <= currentDay)) {
                daySelect.append($('<option></option>').attr('value', day).text(day));
            }
        }
    }

    // 페이지 로드 시 초기화
    $(document).ready(function() {
        updateDays();
    });
    /*]]>*/
</script>
</body>
</html>


